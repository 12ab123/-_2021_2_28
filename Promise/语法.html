<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //1. 创建一个promise对象(pending状态),指定执行函数
    const p = new Promise((resolve, reject) => {        //同步执行的执行器函数
        //2. 在执行器中执行异步操作
        setTimeout(() => {
            //3. 根据不同的结果做不同的处理
            const time = Date.now()
            if (time % 2 === 1) {
                //如果成功了.调用resolve(),指定成功的value,变为resolved状态
                resolve('  成功的数据' + time)
            } else {
                //如果失败了,调用reject(),指定失败的reason,变为rejected状态
                reject('  失败的数据' + time)
            }
        })
    })

    //4. 给promise指定成功或失败的回调函数,获取对应的value和reason
    p.then(
        value => {
            console.log('成功' + value);
        },
        reason => {
            console.log('失败' + reason);
        }
    )
</script>
</body>
</html>